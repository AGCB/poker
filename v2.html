<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Poker app from ScratchV2</title>
  </head>
  <body>
<script>
  console.log('app is running');
  /*
    The first version dealt with a poker table with 3 people. This time we will
    make it a table of 10.

    We start a game.... first thing is to determine how many seats are in use..
    there will be an object called TABLE.
    every seat will have the following info.
    seatNumber, playerName, chipTotal, potContribution, firstCard,
    secondCard, dealerChip
     */
     var pot = 0;
     var table = [
      {  seatNumber: 1,
         playerName: 'jim',
         chipTotal: 100,
         potContribution: 0,
         firstCard: undefined,
         secondCard: undefined,
         dealerChip: true,
         inCurrentGame: false},

      {  seatNumber: 2,
         playerName: 'alex',
         chipTotal: 100,
         potContribution: 0,
         firstCard: undefined,
         secondCard: undefined,
         dealerChip: false,
         inCurrentGame: false},

         {  seatNumber: 3,
            playerName: 'steve',
            chipTotal: 100,
            potContribution: 0,
            firstCard: undefined,
            secondCard: undefined,
            dealerChip: false,
            inCurrentGame: false},

            {  seatNumber: 4,
               playerName: 'gary',
               chipTotal: 100,
               potContribution: 0,
               firstCard: undefined,
               secondCard: undefined,
               dealerChip: false,
               inCurrentGame: false},

               {  seatNumber: 5,
                  playerName: 'david',
                  chipTotal: 100,
                  potContribution: 0,
                  firstCard: undefined,
                  secondCard: undefined,
                  dealerChip: false,
                  inCurrentGame: false},

                  {  seatNumber: 6,
                     playerName: 'josh',
                     chipTotal: 100,
                     potContribution: 0,
                     firstCard: undefined,
                     secondCard: undefined,
                     dealerChip: false,
                     inCurrentGame: false},

                     {  seatNumber: 7,
                        playerName: 'tommy',
                        chipTotal: 100,
                        potContribution: 0,
                        firstCard: undefined,
                        secondCard: undefined,
                        dealerChip: false,
                        inCurrentGame: false},

                        {  seatNumber: 8,
                           playerName: 'jerry',
                           chipTotal: 100,
                           potContribution: 0,
                           firstCard: undefined,
                           secondCard: undefined,
                           dealerChip: false,
                           inCurrentGame: false},

                           {  seatNumber: 9,
                              playerName: 'marsel',
                              chipTotal: 100,
                              potContribution: 0,
                              firstCard: undefined,
                              secondCard: undefined,
                              dealerChip: false,
                              inCurrentGame: false},

                              {  seatNumber: 10,
                                 playerName: "sally",
                                 chipTotal: 0,
                                 potContribution: 0,
                                 firstCard: undefined,
                                 secondCard: undefined,
                                 dealerChip: false,
                                 inCurrentGame: false},

     ]

  var deckOfCards = [
    {number: "2",
     suit: "diamonds"},
    {number: "3",
     suit: "diamonds"},
    {number: "4",
     suit: "diamonds"},
    {number: "5",
     suit: "diamonds"},
    {number: "6",
     suit: "diamonds"},
    {number: "7",
     suit: "diamonds"},
    {number: "8",
     suit: "diamonds"},
    {number: "9",
     suit: "diamonds"},
    {number: "10",
     suit: "diamonds"},
    {number: "jack",
     suit: "diamonds"},
    {number: "queen",
     suit: "diamonds"},
    {number: "king",
     suit: "diamonds"},
    {number: "ace",
     suit: "diamonds"},

     {number: "2",
      suit: "spades"},
     {number: "3",
      suit: "spades"},
     {number: "4",
      suit: "spades"},
     {number: "5",
      suit: "spades"},
     {number: "6",
      suit: "spades"},
     {number: "7",
      suit: "spades"},
     {number: "8",
      suit: "spades"},
     {number: "9",
      suit: "spades"},
     {number: "10",
      suit: "spades"},
     {number: "jack",
      suit: "spades"},
     {number: "queen",
      suit: "spades"},
     {number: "king",
      suit: "spades"},
     {number: "ace",
      suit: "spades"},

      {number: "2",
       suit: "clubs"},
      {number: "3",
       suit: "clubs"},
      {number: "4",
       suit: "clubs"},
      {number: "5",
       suit: "clubs"},
      {number: "6",
       suit: "clubs"},
      {number: "7",
       suit: "clubs"},
      {number: "8",
       suit: "clubs"},
      {number: "9",
       suit: "clubs"},
      {number: "10",
       suit: "clubs"},
      {number: "jack",
       suit: "clubs"},
      {number: "queen",
       suit: "clubs"},
      {number: "king",
       suit: "clubs"},
      {number: "ace",
       suit: "clubs"},

       {number: "2",
        suit: "hearts"},
       {number: "3",
        suit: "hearts"},
       {number: "4",
        suit: "hearts"},
       {number: "5",
        suit: "hearts"},
       {number: "6",
        suit: "hearts"},
       {number: "7",
        suit: "hearts"},
       {number: "8",
        suit: "hearts"},
       {number: "9",
        suit: "hearts"},
       {number: "10",
        suit: "hearts"},
       {number: "jack",
        suit: "hearts"},
       {number: "queen",
        suit: "hearts"},
       {number: "king",
        suit: "hearts"},
       {number: "ace",
        suit: "hearts"},
]





  function shuffle(deckOfCards) {
  var m = deckOfCards.length, t, i;
  while (m) {
    i = Math.floor(Math.random() * m--);
    t = deckOfCards[m];
    deckOfCards[m] = deckOfCards[i];
    deckOfCards[i] = t;
  }
  return deckOfCards;
}




function dealCards() {
  var currentDeckOfCards = shuffle(deckOfCards);
}

//the game starts by taking an ante from everyone at the table.
for (var i = 0; i <= table.length-1; i++) {
    if (table[i].chipTotal > 0) {
      pot += 1;
      table[i].chipTotal -= 1;
      table[i].potContribution += 1;
      table[i].inCurrentGame = true;
    }
}
// ante's are in folks... how many players do we have.
function howManyPlayers() {
  var totalPlayers = 0;
  for (var i = 0; i <= table.length-1; i++) {
    if (table[i].inCurrentGame == true) {
      totalPlayers += 1;
    }
  }
  return totalPlayers;
}
var totalPlayers = howManyPlayers();

//now we know exactly how many cards are going to be needed for the whole game.
// standard is 1burn 4flop 5burn 6turn 7burn 8river + totalPlayersx2.

function howManyCardsNeededToPlay(totalPlayers) {
  return totalPlayers;
//in progress.. I got stuck here... I can't get this to work.
/*
  my totalPlayers variable is fine but I can't seem to feed it as
  a parameter to another function. I'm missing something here..
  to be continued.. 
*/
}

</script>
  </body>
</html>
